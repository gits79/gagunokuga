# 📄TIL
## 1주차

### 🔴 25/01/13 (Mon)
#### 1차 상담 후 선정된 주제
1. 자취생을 위한 공간 활용 서비스
2. ~~가상 학습 탐험 SNS~~

#### 배운 것
- 팀 내에서 선호도가 가장 낮았던 아이디어들이 오히려 호평을 받았다.
- 기획 시, 전문가의 시각과 우리의 시각이 다르다.
<hr/>

### 🟠 25/01/14 (Tue)
#### 주제 재선정
1. 자취생을 위한 공간 활용 서비스
2. 싸피인을 위한 휴게공간 예약 플랫폼
#### 2차 상담
- 2번 주제는 기존 폐기된 아이디어들들 보다도 못하다
- MVP를 다시 세워보자
#### 배운 것
- 타겟층과 페인포인트를 명확히 해서 그에 맞는 뾰족한 MVP를 세워야 한다.
- 서비스를 기획할 때, 악성유저 및 정당성을 무조건 고려해야한다.
- 지레 겁먹지 말고, 자신감을 키우자
<hr/>

### 🟡 25/01/15(Wed)
#### 주제 확정
- 가족 구성원들을 위한 가구 배치 협업 서비스
#### MVP 설정 완료
- 타겟층 : 2인 이상 가구
- 페인포인트 : 이사할 때 가족구성원이 모두 참여하지 않는데, 자신의 방 및 공용 공간에 대한 가구 배치 사전 소통 부재
> **MVP : 2D 탑뷰 가구 배치 + CRDT(실시간 동시 편집)**
#### 배운 것
- 내 경험을 바탕으로 페인포인트를 설정했더니, MVP를 명확히 정할 수 있었다.
- 실시간 협업에 사용되는 `CRDT`라는 동시 편집 기술을 새로 알게 되었다.
<hr/>

### 🟢 25/01/16(Thur)
#### 오늘 한 일
- 기능 명세서 작성
- 와이어프레임 제작
- 유스케이스 다이어그램 회의
- ERD 설계 시작
- 프로젝트 ReadMe.md 작성
- Jira 이슈 생성
#### 배운 것
- 유스케이스 다이어그램을 처음 알게 되었고, 기능별로 유저의 행위를 구체화하는 데 큰 도움이 되었다.
#### 회고
- 유스케이스 다이어그램 회의를 하면서 의견을 모으는 것이 힘들었다.
- 기능별로 각자 구성하고자 하는 바가 달랐다.
- 나의 생각과 논리를 설득시키고 싶었는데, 강요한 것은 아닌지 되돌아보게 된다...
<hr/>

### 🔵 25/01/17(Fri) 
#### 오늘 한 일
- 요구사항 명세서 완성
- 와이어프레임 완성
- ERD 설계 (개선 필요)
- 프로젝트 ReadMe.md 작성 완료
- 팀원 평가
#### 배운 것
- ReadMe 작성 시, 이미지가 안보일 때 해결 방법 : `public`과 `private` 여부를 확인하자
- 탈퇴 회원이 재가입할 때
    1. `email` 중복 여부 확인
        - 중복 x : 신규 회원
        - 중복 o : `2번`으로
    2. `deleted_at` 값 확인
        - **null**이면 탈퇴상태 x -> 가입 불가
        - **날짜**면 탈퇴상태 o -> 가입 가능
    > 탈퇴 회원이 재가입하면 db에 새로 **insert** 한다.

#### 회고
- ERD 설계하면서, 헷갈리는 부분이 많았다. 데이터 모델링 공부가 필요하다는 것을 절실히 느꼈다.
- 어제 해결하지 못했던 ReadMe 이미지 업로드 문제를 해결하게 되어서 뿌듯했다.
- 프로젝트 진행 과정은 순조롭게 이뤄지고 있어서 희망적이다. 한편으로는, 우리가 간과하고 있는 부분은 없는지 불안하다.
- **다음주부터는 프로젝트에 맞는 기술스택을 열심히 알아볼 것!**
<hr/>

## 2주차
### 🔴 25/01/20 (Mon)
#### 오늘 한 일
- API 명세서 작성 (개선 필요)
- ERD 설계 (개선 필요)
- CRDT, 웹소켓 공부
#### 회고 및 배운 것
- ERD를 재확인하면서 **'배치된 가구 각각을 모두 저장하는 것이 맞나?'** 하는 의문이 들었다.
```
가구 아이디, 룸 아이디, 좌표
```

- **내가 생각하는 문제점**
    1. 사용자가 화면에서 해당 가구를 수정, 삭제 시 어떻게 db에 적용시킬지 아예 떠오르지 않는다.
    2. 저장할 정보가 너무 많아서 비효율적일 것 같다 (예상)
        - 사용자의 프로젝트마다 추가된 구조물, 가구들을 모두 저장?
- **내가 제안한 해결책**
    1. 프로젝트 당 1개의 JSON으로 저장하자
        - 단, JSON에 모든 정보 담겨있어야 함 (가구, 크기, 위치정보 등)
- **상담 후**
    - 일단, CRDT를 공부해야 데이터를 어떻게 저장하는 것이 효율적일지 정할 수 있다.
<hr/>

### 🟠 25/01/21 (Tue)
#### 오늘 한 일
- CRDT에 맞는 DB 선정 : `Redis` & `MySQL`
- MVP 재설정 및 확정
    >  변경된 MVP : 사용자가 직접 벽을 그리면서 자신의 집에 맞게 도면 생성 가능 (벽 두께도 입력받기)
#### 배운 것
- **CRDT 아키텍처**
    - **프론트엔드**
        - 사용자가 변경한 객체 상태를 WebSocket으로 서버에 전송.
    - **백엔드**
        - 변경 사항을 Redis에 임시 저장.
        - 다른 사용자에게 변경 사항 브로드캐스트.
    - **DB 동기화**
        - 일정 주기(예: 5분)에 Redis에서 변경 데이터를 읽어 DB에 반영.
        - 사용자가 방을 떠날 때 Redis 데이터를 최종 저장.
- **DB를 정할 때 고려요소**가 많다.
    1. 어떤 데이터를 다룰 것인지
        > 1. 비정형 데이터인가? -> No -> NoSQL을 쓸 필요성을 모르겠다 -> MongoDB 기각
        >
        > 2. 빈번하게 쓰는 작업이 발생하는가? -> Yes -> PostgreSQL 사용할까? -> Redis로 쓰는 작업 제어 가능 -> MySQL 사용하자
    2. 어떤 기술스택을 사용할 것인지
        > CRDT -> 동시성 -> Redis 사용으로 해결
#### 회고
- 팀 내에서 의견이 충돌할 때, 원만하게 합의하는 과정은 항상 어렵다.
- 다수결로 결정할 문제도 아니고, 만장일치도 이끌어내기 어려운 상황에서 어떻게 해결해야될까?
<hr/>

### 🟡 25/01/21 (Wed)
#### 오늘 한 일
- API 명세서 작성 완료
    - RequestBody, ResponseBody까지
- ERD 작성 완료
#### 배운 것
- DB에서 id 데이터타입을 설정할 때, `bigint`(8bit)는 낭비다.
    - `unsigned int`(4bit)의 범위 : 0 ~ 약 40억
    - 상식적으로 회원수가 40억이 되긴 힘듦
    - 경우에 따라서는 더 작은 데이터타입 고려해야 함
- GPS 정보를 저장하는 데이터타입은 `float`로도 충분하다. (1미터 오차가 난다고 해서 사용자가 해당 장소를 못찾을 리가 없다.)
#### 궁금한 점
- 팀원들과 ERD를 보면서 id 데이터타입을 `int`로 바꾸자고 했는데, spring boot에서  데이터타입을 `long`을 쓰기 때문에 `bigint`를 해야된다고 했다. 무엇이 맞는지 모르겠다.
> 참고 사이트
> https://velog.io/@nayoon-kim/%EB%A9%B4%EC%A0%91-id%EB%A5%BC-%EC%99%9C..bigint
#### 회고
- 1학기 때 관통프로젝트를 진행할 때는 API 명세서를 작성할 때 RequestBody나 ResponseBody를 아예 고려하지 않았었다.
- 그 때 작성 안해서 개발할 때 엄청 수정하고, 팀원이랑 다시 정하고 애를 먹었던 기억이 난다.
- 이번에 작성하면서도 어떤 데이터를 주고 받을지 구체적으로 생각해야해서 꽤 애를 먹었다.